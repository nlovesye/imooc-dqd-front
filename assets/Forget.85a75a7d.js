import{_ as h,j as v,F as y,E as B,r as F,e as g,f as C,g as r,o as b,c as A,a as o,h as n,w as p,p as E,k as V}from"./index.9000b656.js";import{r as N,f as x}from"./user.6908dd78.js";const D={components:{Form:v,Field:y,ErrorMessage:B},setup(){const l=F(""),a={userName:"",code:""},c={userName:d,password:d,code:s=>{const t=s;return!t||!t.trim()?"\u4E0D\u80FD\u4E3A\u7A7A!":t.length!==4?"\u8BF7\u8F93\u51654\u4F4D\u9A8C\u8BC1\u7801!":!0}},{values:e}=g({initialValues:a,validationSchema:c});function d(s){const t=s;return!t||!t.trim()?"\u4E0D\u80FD\u4E3A\u7A7A!":t.length<6||t.length>20?"\u8BF7\u8F93\u51656-20\u4F4D\u5B57\u7B26!":!0}function m(){N.get("/public/getCaptcha").then(s=>{l.value=s.data.data})}const _=async()=>{const s=await x({userName:e.userName,code:e.code,email:e.userName}),{code:t,data:f,message:u}=s;t===200&&alert(u)};return C(()=>{m()}),{captchaSvgCode:l,validationSchema:c,getCaptchaCode:m,formValues:e,onSubmit:_}}},i=l=>(E("data-v-6e8c6cc6"),l=l(),V(),l),S={class:"forget"},k={class:"layui-container"},w={class:"layui-tab layui-tab-brief","lay-filter":"docDemoTabBrief"},M={class:"layui-tab-title"},I=i(()=>o("li",null,"\u767B\u5F55",-1)),q=i(()=>o("li",{class:"layui-this"},"\u627E\u56DE\u5BC6\u7801",-1)),L={class:"layui-tab-content"},T={class:"layui-form-item"},H=i(()=>o("label",{class:"layui-form-label"},"\u624B\u673A/\u90AE\u7BB1",-1)),U={class:"layui-input-block"},j={class:"layui-form-item"},z=i(()=>o("label",{class:"layui-form-label"},"\u9A8C\u8BC1\u7801",-1)),G={class:"layui-input-inline"},J=["innerHTML"];function K(l,a,c,e,d,m){const _=r("router-link"),s=r("Field"),t=r("ErrorMessage"),f=r("Form");return b(),A("div",S,[o("div",k,[o("div",w,[o("ul",M,[n(_,{to:{name:"login"}},{default:p(()=>[I]),_:1}),q]),o("div",L,[n(f,{class:"layui-form layui-form-pane","validation-schema":e.validationSchema},{default:p(()=>[o("div",T,[H,o("div",U,[n(s,{type:"text",name:"userName",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A/\u90AE\u7BB1",autocomplete:"off",class:"layui-input",modelValue:e.formValues.userName,"onUpdate:modelValue":a[0]||(a[0]=u=>e.formValues.userName=u)},null,8,["modelValue"]),n(t,{class:"error-text",name:"userName"})])]),o("div",j,[z,o("div",G,[n(s,{type:"text",name:"code",placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801",autocomplete:"off",class:"layui-input",modelValue:e.formValues.code,"onUpdate:modelValue":a[1]||(a[1]=u=>e.formValues.code=u)},null,8,["modelValue"]),n(t,{class:"error-text",name:"code"})]),o("div",{class:"layui-form-mid layui-word-aux captch-code-svg",innerHTML:e.captchaSvgCode,onClick:a[2]||(a[2]=(...u)=>e.getCaptchaCode&&e.getCaptchaCode(...u)),title:"\u70B9\u51FB\u5237\u65B0\u9A8C\u8BC1\u7801"},null,8,J)]),o("button",{class:"layui-btn",onClick:a[3]||(a[3]=(...u)=>e.onSubmit&&e.onSubmit(...u)),"lay-filter":"formDemo"}," \u63D0\u4EA4 ")]),_:1},8,["validation-schema"])])])])])}var Q=h(D,[["render",K],["__scopeId","data-v-6e8c6cc6"],["__file","/home/runner/work/imooc-dqd-frontend/imooc-dqd-frontend/src/components/Forget.vue"]]);export{Q as default};
