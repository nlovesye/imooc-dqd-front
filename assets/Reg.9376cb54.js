import{_ as y,j as v,F as B,E as F,b as C,u as V,r as b,e as g,f as w,g as m,o as E,c as k,a as e,h as t,w as p,v as h,p as A,k as N}from"./index.be37b559.js";import{v as x,g as S}from"./public.90ba1ae4.js";import{a as D}from"./user.6908dd78.js";const M={components:{Form:v,Field:B,ErrorMessage:F},setup(){const l=C(),a=V(),f=b(""),s={userName:"",nickName:"",password:"",confirmPassword:"",code:""},_={userName:d,password:d,code:u=>{const o=u;return!o||!o.trim()?"\u4E0D\u80FD\u4E3A\u7A7A!":o.length!==4?"\u8BF7\u8F93\u51654\u4F4D\u9A8C\u8BC1\u7801!":!0},nickName:d,confirmPassword:d},{values:n}=g({initialValues:s,validationSchema:_});function d(u){const o=u;return!o||!o.trim()?"\u4E0D\u80FD\u4E3A\u7A7A!":o.length<6||o.length>20?"\u8BF7\u8F93\u51656-20\u4F4D\u5B57\u7B26!":!0}function r(){let u=l.state.sid;u||(l.commit("setSid",x()),u=l.state.sid),S({sid:u}).then(o=>{f.value=o.data.data})}const c=async()=>{if(n.password!==n.confirmPassword){h.exports.Message.error("\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u76F8\u540C");return}const u=await D({username:n.userName,password:n.password,code:n.code,sid:l.state.sid,nickName:n.nickName});u.code===200&&(h.exports.Message.success(u.msg),setTimeout(()=>{a.push({name:"login"})},1e3))};return w(()=>{r()}),{captchaSvgCode:f,getCaptchaCode:r,validationSchema:_,formValues:n,onSubmit:c}}},i=l=>(A("data-v-3f487494"),l=l(),N(),l),P={class:"reg"},U={class:"layui-container"},I={class:"layui-tab layui-tab-brief","lay-filter":"docDemoTabBrief"},R={class:"layui-tab-title"},T=i(()=>e("li",null,"\u767B\u5F55",-1)),L=i(()=>e("li",{class:"layui-this"},"\u627E\u56DE\u5BC6\u7801",-1)),q={class:"layui-tab-content"},H={class:"layui-form-item"},j=i(()=>e("label",{class:"layui-form-label"},"\u624B\u673A/\u90AE\u7BB1",-1)),z={class:"layui-input-block"},G={class:"layui-form-item"},J=i(()=>e("label",{class:"layui-form-label"},"\u6635\u79F0",-1)),K={class:"layui-input-block"},O={class:"layui-form-item"},Q=i(()=>e("label",{class:"layui-form-label"},"\u5BC6\u7801",-1)),W={class:"layui-input-block"},X={class:"layui-form-item"},Y=i(()=>e("label",{class:"layui-form-label"},"\u786E\u8BA4\u5BC6\u7801",-1)),Z={class:"layui-input-block"},$={class:"layui-form-item"},ee=i(()=>e("label",{class:"layui-form-label"},"\u9A8C\u8BC1\u7801",-1)),oe={class:"layui-input-inline"},se=["innerHTML"],ae=i(()=>e("button",{class:"layui-btn","lay-filter":"formDemo"},"\u7ACB\u5373\u6CE8\u518C",-1)),ue=i(()=>e("div",{class:"third-platform"},"\u6216\u8005\u76F4\u63A5\u4F7F\u7528\u793E\u4EA4\u8D26\u53F7\u5FEB\u6377\u6CE8\u518C",-1));function te(l,a,f,s,_,n){const d=m("router-link"),r=m("Field"),c=m("ErrorMessage"),u=m("Form");return E(),k("div",P,[e("div",U,[e("div",I,[e("ul",R,[t(d,{to:{name:"login"}},{default:p(()=>[T]),_:1}),L]),e("div",q,[t(u,{class:"layui-form layui-form-pane",onSubmit:s.onSubmit,"validation-schema":s.validationSchema},{default:p(()=>[e("div",H,[j,e("div",z,[t(r,{type:"text",name:"userName",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A/\u90AE\u7BB1",autocomplete:"off",class:"layui-input",modelValue:s.formValues.userName,"onUpdate:modelValue":a[0]||(a[0]=o=>s.formValues.userName=o)},null,8,["modelValue"]),t(c,{class:"error-text",name:"userName"})])]),e("div",G,[J,e("div",K,[t(r,{type:"text",name:"nickName",placeholder:"\u8BF7\u8F93\u5165\u6635\u79F0",autocomplete:"off",class:"layui-input",modelValue:s.formValues.nickName,"onUpdate:modelValue":a[1]||(a[1]=o=>s.formValues.nickName=o)},null,8,["modelValue"]),t(c,{class:"error-text",name:"nickName"})])]),e("div",O,[Q,e("div",W,[t(r,{type:"password",name:"password",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",autocomplete:"off",class:"layui-input",modelValue:s.formValues.password,"onUpdate:modelValue":a[2]||(a[2]=o=>s.formValues.password=o)},null,8,["modelValue"]),t(c,{class:"error-text",name:"password"})])]),e("div",X,[Y,e("div",Z,[t(r,{type:"password",name:"confirmPassword",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",autocomplete:"off",class:"layui-input",modelValue:s.formValues.confirmPassword,"onUpdate:modelValue":a[3]||(a[3]=o=>s.formValues.confirmPassword=o)},null,8,["modelValue"]),t(c,{class:"error-text",name:"confirmPassword"})])]),e("div",$,[ee,e("div",oe,[t(r,{type:"text",name:"code",placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801",autocomplete:"off",class:"layui-input",modelValue:s.formValues.code,"onUpdate:modelValue":a[4]||(a[4]=o=>s.formValues.code=o)},null,8,["modelValue"]),t(c,{class:"error-text",name:"code"})]),e("div",{class:"layui-form-mid layui-word-aux captch-code-svg",innerHTML:s.captchaSvgCode,onClick:a[5]||(a[5]=(...o)=>s.getCaptchaCode&&s.getCaptchaCode(...o)),title:"\u70B9\u51FB\u5237\u65B0\u9A8C\u8BC1\u7801"},null,8,se)]),ae,ue]),_:1},8,["onSubmit","validation-schema"])])])])])}var re=y(M,[["render",te],["__scopeId","data-v-3f487494"],["__file","/home/runner/work/imooc-dqd-frontend/imooc-dqd-frontend/src/components/Reg.vue"]]);export{re as default};
